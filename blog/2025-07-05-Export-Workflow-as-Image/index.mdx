---
title: How to Export a Workflow as an Image and Run It as a Service?
authors: [zhangli]
tags: [workflow automation, OOMOL, docker, export image]
date: 2025-07-05
---

import Image from "@theme/ThemedImage";
import useBaseUrl from "@docusaurus/useBaseUrl";

When your Flow runs properly on your computer, have you ever considered running it on a server accessible to everyone, sharing your achievements with others? Or running your Flow as a background service for convenient access at any time?

Now you can achieve this with OOMOL Studio. Next, I will detail how to export a Flow as an image and run it in the background. I will implement a Flow that translates a PDF and converts it to an EPUB e-book, allowing me to read works by foreign authors on my mobile device without language barriers.

You can download the actual Flow implementation from [translate-pdf-to-epub](https://github.com/oomol-flows/translate-pdf-to-epub). You can follow this article to run the Flow as a service on any computer or cloud platform you want.

> Reading this article requires basic knowledge of [image containers](https://docs.docker.com/get-started/docker-concepts/the-basics/what-is-an-image/).

## Flow Development

> If you already have a completed Flow, you can skip to [Export Image](/blog/2025/07/05/Export-Workflow-as-Image#export-image)

The required functionality can be broken down into the following steps:

1. Convert a PDF file to an EPUB file.
2. Translate the converted EPUB file.
3. Save the translated EPUB file to a specified location.

The process is simple, and we will use existing Blocks from the OOMOL community to implement it.

First, we create a `translate-pdf-to-epub` project and install the following Packages from the store:

**pdf-craft**

<figure>
  <Image
    sources={{
      light: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/install-pdf-craft.png"
      ),
      dark: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/install-pdf-craft.png"
      ),
    }}
    width="720"
  />
  <figcaption
    style={{ textAlign: "center", fontStyle: "italic", color: "#828282" }}
  >
    pdf-craft can convert PDF files to EPUB files
  </figcaption>
</figure>

**books-translator**

<figure>
  <Image
    sources={{
      light: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/install-pdf-craft.png"
      ),
      dark: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/install-pdf-craft.png"
      ),
    }}
    width="720"
  />
  <figcaption
    style={{ textAlign: "center", fontStyle: "italic", color: "#828282" }}
  >
    books-translator can translate EPUB files
  </figcaption>
</figure>

Then, we use the `Analys PDF` and `Genrate EPUB` Blocks from the `pdf-craft` Package, the `Translate epub book` Block from the `books-translator` Package, and the `Binary save as file` Block from the `File` Package, chaining them together to form the Flow.

<figure>
  <Image
    sources={{
      light: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/pdf-craft-block.png"
      ),
      dark: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/pdf-craft-block.png"
      ),
    }}
    width="200"
  />
  <Image
    sources={{
      light: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/books-translator-block.png"
      ),
      dark: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/books-translator-block.png"
      ),
    }}
    width="200"
  />
  <Image
    sources={{
      light: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/file-block.png"
      ),
      dark: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/file-block.png"
      ),
    }}
    width="200"
  />
  <figcaption
    style={{ textAlign: "center", fontStyle: "italic", color: "#828282" }}
  >
    Required Blocks
  </figcaption>
</figure>

<figure>
  <Image
    sources={{
      light: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/flow.png"
      ),
      dark: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/flow.png"
      ),
    }}
    width="720"
  />
  <figcaption
    style={{ textAlign: "center", fontStyle: "italic", color: "#828282" }}
  >
    The implemented Flow
  </figcaption>
</figure>

The Flow is now complete. Next, we fill in the parameters for the Flow. We need to provide the following parameters:
1. The path to the PDF file to process
2. The output path and file format for the final EPUB file

The `Translate epub book` Block's default input language is English and output language is Chinese. Adjust the parameters as needed.

> You can clear `output_dir` to keep intermediate files in memory, which will be released when the app closes.

<figure>
  <Image
    sources={{
      light: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/flow-params.png"
      ),
      dark: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/flow-params.png"
      ),
    }}
    width="720"
  />
  <figcaption
    style={{ textAlign: "center", fontStyle: "italic", color: "#828282" }}
  >
    Parameters to fill in
  </figcaption>
</figure>

Since the PDF file input requires a PDF path, we need to place the PDF file to be processed into the OOMOL Studio environment so the app can read it. Copy the file into the OOMOL space from the left panel:

<figure>
  <Image
    sources={{
      light: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/upload-file.png"
      ),
      dark: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/upload-file.png"
      ),
    }}
    width="720"
  />
  <figcaption
    style={{ textAlign: "center", fontStyle: "italic", color: "#828282" }}
  >
    Place the file inside the OOMOL Studio app container
  </figcaption>
</figure>

Now you can select the PDF file path and the output EPUB file path and extension:

<figure>
  <Image
    sources={{
      light: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/pdf-craft-block-param.png"
      ),
      dark: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/pdf-craft-block-param.png"
      ),
    }}
    width="300"
  />
  <Image
    sources={{
      light: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/file-block-params.png"
      ),
      dark: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/file-block-params.png"
      ),
    }}
    width="300"
  />
  <figcaption
    style={{ textAlign: "center", fontStyle: "italic", color: "#828282" }}
  >
    Completed parameters
  </figcaption>
</figure>

Next, run the Flow. After a while, you will see the output file, and the content will have been translated.

<figure>
  <Image
    sources={{
      light: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/output-file.png"
      ),
      dark: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/output-file.png"
      ),
    }}
    width="300"
  />
  <Image
    sources={{
      light: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/output-file-content.png"
      ),
      dark: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/output-file-content.png"
      ),
    }}
    width="300"
  />
  <figcaption
    style={{ textAlign: "center", fontStyle: "italic", color: "#828282" }}
  >
    Flow output result
  </figcaption>
</figure>

You can see the article has been translated into Chinese.

At this point, we have developed and run a Flow, but it can only run inside the OOMOL Studio app. Next, we will run the Flow outside of OOMOL Studio.

## Export Image

Go back to the OOMOL Studio Home page, find the Flow you just developed, right-click and select `Export as Image`, choose the export folder, and after a while, you will get an image file with the same name as the Flow.

<figure>
  <Image
    sources={{
      light: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/export-image-file.png"
      ),
      dark: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/export-image-file.png"
      ),
    }}
    width="720"
  />
  <Image
    sources={{
      light: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/image-file.png"
      ),
      dark: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/image-file.png"
      ),
    }}
    width="720"
  />
  <figcaption
    style={{ textAlign: "center", fontStyle: "italic", color: "#828282" }}
  >
    Export image file
  </figcaption>
</figure>

## Running the Image

After obtaining the image file, use the `docker` command to load the image file. In the terminal, run:

```shell
docker load -i ~/Downloads/translate-pdf-to-epub.tar.zst  # Use your image file path
```

After running, you can find the image:

<figure>
  <Image
    sources={{
      light: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/docker-image.png"
      ),
      dark: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/docker-image.png"
      ),
    }}
    width="720"
  />
  <figcaption
    style={{ textAlign: "center", fontStyle: "italic", color: "#828282" }}
  >
    Image file
  </figcaption>
</figure>

Because the image runtime is not inside OOMOL Studio, we cannot identify the user running the container. The current Flow uses AI for translation, and OOMOL will convert translation costs into credits. Using an API-key allows credits to be deducted from the corresponding user's account for normal operation.

::info
If the Flow does not use built-in AI services, or uses your own AI service, you still need to provide an API-key when starting the container, but no cost will be incurred.

You can generate an API-key in [OOMOL Console](https://console.oomol.com/panel/api-key).

<figure>
  <Image
    sources={{
      light: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/create-api-key.png"
      ),
      dark: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/create-api-key.png"
      ),
    }}
    width="720"
  />
  <figcaption
    style={{ textAlign: "center", fontStyle: "italic", color: "#828282" }}
  >
    Generate API-key
  </figcaption>
</figure>

> Once the API-key is hidden, it cannot be retrieved again. Please keep it safe.

After obtaining the API-key, you can run the container with the following command:

```shell
docker run --privileged -p 3000:3000 -e OOMOL_API_TOKEN={OOMOL_API_TOKEN} -v $HOME/oomol-storage:/oomol-driver/oomol-storage localhost/translate-pdf-to-epub:latest
```

After running the image, you can access the started container at `http://localhost:3000`. The previous Flow is now running as a local service.

### File Paths Inside the Image

In this example, the Flow starts by inputting a file path. After exporting the Flow as an image, all paths inside the image container refer to **paths inside the container**. If you pass a host path directly to the Flow, it will not be able to read the file.

Here, we mount the `$HOME/oomol-storage` path on the computer to the `/oomol-driver/oomol-storage` path inside the container. This way, adding files to `$HOME/oomol-storage` is equivalent to placing them in `/oomol-driver/oomol-storage` inside the container. The container and host can exchange files through this folder.

If you want to deploy the image to a cloud server, you also need to meet this requirement: the Flow inside the container must be able to access the real file path. If you find mounting files cumbersome, you can change the input file path to a network address, such as uploading to AWS S3 or other network file management services, then downloading and reading the file inside your Flow. This way, file access always happens inside the image container, and there will be no file-not-found issues.

## Calling the Flow

After starting the image container, you can use HTTP requests to query, start, and stop Flows.

Visit `http://localhost:3000/ui` to see the HTTP Interfaces exposed by the image container:

<figure>
  <Image
    sources={{
      light: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/http-api.png"
      ),
      dark: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/http-api.png"
      ),
    }}
    width="720"
  />
  <figcaption
    style={{ textAlign: "center", fontStyle: "italic", color: "#828282" }}
  >
    HTTP API
  </figcaption>
</figure>

For detailed Handle descriptions, see the [API documentation](/docs/advanced-guide/export-image/#api).

### Query Flows

Use the GET method to call `http://localhost:3000/v1/flows` to query the list of Flows in the image container.

The returned content includes detailed Flow structure, including Node information and the names and types of input/output Handles.

### Run Task

Use the POST method to call `http://localhost:3000/v1/tasks` to run a Flow and create a task.

As mentioned in [Flow Development](/blog/2025/07/05/Export-Workflow-as-Image#flow-development), you need to provide parameters for several Nodes before starting the Flow. Here, you pass the parameters in the request:

<figure>
  <Image
    sources={{
      light: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/start-image-task.png"
      ),
      dark: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/start-image-task.png"
      ),
    }}
    width="720"
  />
  <figcaption
    style={{ textAlign: "center", fontStyle: "italic", color: "#828282" }}
  >
    Task start parameters
  </figcaption>
</figure>

The `flowName` / `nodeId` / `handle` information can all be found from [Query Flows](/blog/2025/07/05/Export-Workflow-as-Image#query-flows).

The input file path here is `/oomol-driver/oomol-storage/test.pdf`. Since we mapped the `/oomol-driver/oomol-storage` folder to `$HOME/oomol-storage` during [Running the Image](/blog/2025/07/05/Export-Workflow-as-Image#running-the-image), you just need to put `test.pdf` into `$HOME/oomol-storage`, and the Flow can read the file correctly. We name the output file `local-service-output`.

After the API call, you will get a task ID.

<figure>
  <Image
    sources={{
      light: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/start-task-response.png"
      ),
      dark: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/start-task-response.png"
      ),
    }}
    width="720"
  />
  <figcaption
    style={{ textAlign: "center", fontStyle: "italic", color: "#828282" }}
  >
    Task ID
  </figcaption>
</figure>

### Query Tasks

Use the GET method to call `http://localhost:3000/v1/tasks` to list all tasks in the image container.

Use the GET method to call `http://localhost:3000/v1/tasks/{task_id}` to query task details by task ID.

Users can poll these two APIs to check the task status.

When the task is complete, you can see the task status as finished and view the output result:

<figure>
  <Image
    sources={{
      light: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/image-task-finish.png"
      ),
      dark: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/image-task-finish.png"
      ),
    }}
    width="720"
  />
  <Image
    sources={{
      light: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/image-task-result.png"
      ),
      dark: useBaseUrl(
        "/img/blogs/2025-07-05-Export-Workflow-as-Image/image-task-result.png"
      ),
    }}
    width="720"
  />
  <figcaption
    style={{ textAlign: "center", fontStyle: "italic", color: "#828282" }}
  >
    Completed task
  </figcaption>
</figure>

## Summary

This article introduced how to export a Flow from OOMOL Studio as an image and run it independently outside of OOMOL Studio.

Users can deploy the image in any environment, making the Flow a continuously running service that maximizes its value. Whether on a local server, cloud platform, or in a team collaboration environment, you can achieve efficient reuse and sharing of automated Flows. Image export makes deployment and maintenance more flexible and convenient, providing a solid foundation for the promotion and implementation of automation applications.