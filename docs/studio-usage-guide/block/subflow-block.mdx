---
sidebar_position: 3
---

import Image from "@theme/ThemedImage";
import useBaseUrl from "@docusaurus/useBaseUrl";

# Subflow Block

`Subflow Block` can convert a flow into a block for reuse.

When a flow has generality, you can convert the flow into a `Subflow Block`. `Subflow Block` is a type of `Shared Block`.

## Generation

You can convert a flow to a `Subflow Block` in the settings button menu of the flow toolbar.

<Image
  sources={{
    light: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-generate.png"
    ),
    dark: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-generate.png"
    ),
  }}
  width="720"
/>

The generated subflow block will appear in the `Shared Blocks` toolbar.

<Image
  sources={{
    light: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-generated.png"
    ),
    dark: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-generated.png"
    ),
  }}
  width="720"
/>

When converted to a `Subflow Block`, the original flow will disappear, but the flow's content and settings will be preserved in the `Subflow Block`.

## Settings

`Subflow Block` settings have two views: block view and workflow view. You can enter the editing interface after selecting the subflow block.

In the block view, you can set the input and output interfaces of the entire `Subflow Block`. The settings here are consistent with ordinary blocks.

<Image
  sources={{
    light: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-view-block.png"
    ),
    dark: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-view-block.png"
    ),
  }}
  width="720"
/>

In the workflow view, you can see that two special blocks have been added inside the subflow block, which respectively reflect the input and output interfaces in the block view.

:::warning
Please note that you must connect the input and output interfaces to some internal blocks, otherwise the values set in the block view cannot be passed to the internal blocks.
:::

Modifying input and output interfaces in the workflow view will also be synchronized to the block view, and vice versa.

<Image
  sources={{
    light: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-view-flow.png"
    ),
    dark: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-view-flow.png"
    ),
  }}
  width="720"
/>

:::tip
When connecting lines to input or output blocks, you can move the line between interfaces to quickly generate new interfaces.

<Image
  sources={{
    light: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-quick-connect.png"
    ),
    dark: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-quick-connect.png"
    ),
  }}
  width="720"
/>

:::

## Usage

The usage of `Subflow Block` is consistent with `Shared Block`. You can drag it into the flow to use it.

<Image
  sources={{
    light: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-use.png"
    ),
    dark: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-use.png"
    ),
  }}
  width="720"
/>

## Run and Results

You can choose the two running methods shown in the image:

1. Start all blocks in the workflow
2. Start only the corresponding block

After starting, you can observe the running status and input/output content of all blocks in the log bar below.

<Image
  sources={{
    light: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-run.png"
    ),
    dark: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-run.png"
    ),
  }}
  width="720"
/>
