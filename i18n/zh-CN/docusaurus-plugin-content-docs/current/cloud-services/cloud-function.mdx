---
sidebar_position: 1
---

# 云函数

OOMOL 云函数是一个无服务器计算平台，让你可以将 OOMOL 工作流部署为生产级 API，无需管理基础设施。你只需专注于编写代码，剩下的交给 OOMOL。

## 概述

OOMOL 云函数只需一键即可将你的工作流块转换为可扩展的云服务。你编写函数块，OOMOL 负责部署、扩展和运维。

### 核心优势

- **无痛生成**：无需复杂配置，即可立即部署工作流
- **按量计费**：只为实际使用付费，无需预付服务器费用
- **零维护**：无需管理服务器、环境或扩展
- **自动扩缩容**：自动处理流量高峰和扩展

## 三种部署模式

### 1. 发布为函数库

将你的区块分享给社区，或将它们组合成更复杂的工作流。

**使用场景：**
- 与其他开发者分享可复用组件
- 构建其他人可以扩展的模块化功能
- 为社区创新创造基础构建块

**工作原理：**
- 打包你的区块，定义清晰的输入和输出
- 发布到 OOMOL 社区库
- 其他人可以发现并在他们的工作流中使用你的区块

### 2. 部署为云函数

一键部署到无服务器基础设施，自动扩展。

**使用场景：**
- 为应用程序创建 REST API 端点
- 构建后端服务而无需管理服务器
- 为用户提供稳定的生产级 API

**功能特性：**
- 自动 HTTPS 端点
- 内置负载均衡
- 零停机部署
- 根据需求自动扩展

**示例：**
```bash
# 你的工作流会自动获得一个公共 API 端点
https://api.oomol.com/v1/your-function-id
```

### 3. 提供给 AI 调用

通过模型上下文协议（MCP）发布你的函数，供 AI 代理使用。

**使用场景：**
- 让 AI 助手直接调用你的函数
- 创建 AI 代理可以发现和使用的工具
- 将你的代码连接到智能世界

**工作原理：**
- 你的函数通过 MCP 协议暴露
- AI 代理可以发现并调用你的函数
- 与 Claude、ChatGPT 和其他 AI 助手无缝集成

## 定价

OOMOL 云函数使用简单的按使用付费定价模式：

- **无固定费用**：没有月度服务器费用或预付款项
- **基于使用量的计费**：只为实际的函数调用付费
- **透明定价**：每次 API 调用的价格清晰明了
- **免费额度**：提供慷慨的免费使用额度助你起步

访问 [OOMOL 控制台](https://console.oomol.com/cloud-function) 了解详细定价信息。

## 快速开始

### 前置条件

- 一个 OOMOL 账户
- 在计算机上安装 OOMOL Studio
- 准备好要部署的工作流

### 部署步骤

1. **创建工作流**
   - 在 OOMOL Studio 中构建工作流
   - 在本地测试确保正常工作
   - 定义清晰的输入和输出参数

2. **配置部署**
   - 在 OOMOL Studio 中打开部署面板
   - 选择"云函数"作为部署目标
   - 配置函数设置（超时、内存等）

3. **部署**
   - 点击"部署到云端"
   - 等待部署完成
   - 获取函数的 API 端点

4. **测试函数**
   - 使用提供的端点测试函数
   - 在 OOMOL 控制台监控使用情况和性能
   - 与用户分享 API

### 部署示例

以下是调用已部署云函数的简单示例：

```bash
curl -X POST https://api.oomol.com/v1/your-function-id \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -d '{"input": "your data"}'
```

## 管理

### OOMOL 控制台

访问 [OOMOL 控制台](https://console.oomol.com/cloud-function) 可以：

- 查看所有已部署的函数
- 监控使用情况和性能指标
- 管理 API 密钥和访问控制
- 查看账单和使用统计
- 更新函数配置
- 查看日志和调试信息

### 监控

- **实时指标**：追踪调用次数、延迟和错误
- **使用分析**：了解函数的使用方式
- **错误追踪**：快速识别和修复问题
- **性能洞察**：优化函数执行时间

## 最佳实践

### 函数设计

1. **保持函数专注**：每个函数应该只做好一件事
2. **定义清晰的接口**：记录输入和输出参数
3. **优雅处理错误**：返回有意义的错误消息
4. **优化冷启动**：最小化初始化时间

### 安全

1. **使用 API 密钥**：通过身份验证保护函数
2. **验证输入**：始终验证和清理用户输入
3. **设置速率限制**：通过适当的速率限制防止滥用
4. **监控使用**：关注异常模式或潜在攻击

### 性能

1. **优化依赖**：只包含必要的库
2. **适时缓存**：减少冗余计算
3. **使用适当的超时**：设置现实的执行时间限制
4. **大规模测试**：在预期负载下验证性能

## 与传统部署的对比

| 功能 | 传统服务器 | OOMOL 云函数 |
|------|-----------|-------------|
| **启动时间** | 数小时到数天 | 几分钟 |
| **服务器管理** | 需要 | 无需 |
| **扩展** | 手动 | 自动 |
| **成本** | 固定月费 | 按使用付费 |
| **维护** | 持续需要 | OOMOL 负责 |
| **SSL/HTTPS** | 手动设置 | 内置 |
| **部署** | 复杂 | 一键完成 |

## 使用案例

### API 服务
为移动应用、Web 应用或第三方集成构建 RESTful API。

### 数据处理
按需处理文件、转换数据或执行批处理操作。

### 集成
连接不同服务并自动化它们之间的工作流。

### AI 工具
创建 AI 助手可以调用的专用工具以扩展其能力。

### Webhooks
响应来自 GitHub、Stripe 或 Slack 等外部服务的事件。

## 技术支持

如果遇到任何问题：

- 查看我们的 [文档中心](https://docs.oomol.com)
- 访问 [OOMOL 控制台](https://console.oomol.com/cloud-function)
- 在 [GitHub](https://github.com/oomol-lab) 上提交问题
- 加入我们的 [社区论坛](https://community.oomol.com)

## 相关链接

- [OOMOL Cloud 产品页面](/cloud)
- [OOMOL 控制台](https://console.oomol.com/cloud-function)
- [API 文档](https://docs.oomol.com/api)
