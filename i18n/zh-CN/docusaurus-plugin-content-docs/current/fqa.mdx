---
sidebar_position: 8
---

import Image from "@theme/ThemedImage";
import useBaseUrl from "@docusaurus/useBaseUrl";

# 常见问题

## 打开的项目中的小脚本区块的依赖无法安装

### 问题

用户在打开了一个社区项目后，发现其中的流使用了小脚本，在运行时却发现小脚本区块依赖的模块找不到。

<Image
  sources={{
    light: useBaseUrl("/img/docs/fqa/fqa-lib-not-found.png"),
    dark: useBaseUrl("/img/docs/fqa/fqa-lib-not-found.png"),
  }}
  width="720"
/>

### 原因

假设开发者们在流的小脚本区块中依赖了第三方模块，这种情况下，如果是 Node.js 代码会使用 `package.json` 文件，如果是 Python 代码会使用 `requirements.txt` 或者之类的其他文件来锁定第三方模块的版本。

那么当用户将流克隆到本地（锁定模块版本的文件一定也被克隆，否则无法保证代码一定可以执行）并开始使用后，如果开发者此时更新了依赖模块的版本，用户也要同步更新只有两种选择：

1. 删掉本地的项目，重新拉取开发者最新的项目然后安装所有的东西，再运行。

2. 查看开发者的改动，自己在本地进行同样的操作。

这两种选择对于用户都是很繁琐的，尤其是对于不懂代码的用户来说。

另一种情况，用户也许会将包作为基础进行二次开发，那么当用户在某些代码上用到的模块与原包的模块有了版本冲突，将会无法处理。

因此我们选择禁止开发者们在发布到线上的流中使用依赖了第三方模块的小脚本区块。

### 答案

**我们建议在发布前将所有小脚本区块转换为共享区块，这样就可以避免上述问题。**

如果你一定要使用小脚本区块，那么请记住你只能使用代码语言内置的模块。

## 如何在 OOMOL Studio 内部连用户计算机上的服务（MySQL、Redis 等）

### 答案

OOMOL Studio 应用内是一个容器环境，它与用户的计算机是相互隔离的。

但是你可以通过容器提供的特殊域名 `host.docker.internal` 访问计算机上的服务。

参考 [Docker 容器连接宿主机服务](https://docs.docker.com/desktop/features/networking/#i-want-to-connect-from-a-container-to-a-service-on-the-host)。

例如：

你在计算机上启动了一个 Mysql 服务，在本机上可以通过 `http://127.0.0.1:3306` 连接，在 OOMOL Studio 内你可以通过 `http://host.docker.internal:3306` 连接。
