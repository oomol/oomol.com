---
sidebar_position: 3
---

import Image from "@theme/ThemedImage";
import useBaseUrl from "@docusaurus/useBaseUrl";

# 子流区块

`子流区块`可以将流转换为一个区块进行复用。

当一个流有通用性，你可以将流转换为`子流区块`。`子流区块`是`共享区块`的一种。

## 生成

在流工作栏的设置按钮菜单中可以将流转换为`子流区块`。

<Image
  sources={{
    light: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-generate.png"
    ),
    dark: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-generate.png"
    ),
  }}
  width="720"
/>

生成的子流区块会出现在`共享区块`工具栏中。

<Image
  sources={{
    light: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-generated.png"
    ),
    dark: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-generated.png"
    ),
  }}
  width="720"
/>

转换为`子流区块`，原来的流会消失，但是流的内容和设置会保留在`子流区块`中。

## 设置

`子流区块`的设置有两个试图，分别是区块视图和工作流视图。选择子流区块后可以进入编辑界面。

在区块视图中可以设置整个`子流区块`的输入和输出接口，这里的设置与普通区块一致。

<Image
  sources={{
    light: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-view-block.png"
    ),
    dark: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-view-block.png"
    ),
  }}
  width="720"
/>

在工作流视图中可以看到，子流区块内新增了两个特殊区块，分别反应了在区块视图中的输入和输出接口。

:::warn
请注意你必须要将输入和输出接口连接到内部的某个区块上，否则在区块视图中设置的值将无法传到内部区块。
:::

在工作流视图中修改输入输出接口也会同步到区块视图中，反之一样。

<Image
  sources={{
    light: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-view-flow.png"
    ),
    dark: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-view-flow.png"
    ),
  }}
  width="720"
/>

:::tip
在连线到输入或者输出区块的时候可以将线移到接口之间，可以快速生成新的接口。

<Image
  sources={{
    light: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-quick-connect.png"
    ),
    dark: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-quick-connect.png"
    ),
  }}
  width="720"
/>

:::

## 使用

`子流区块`的使用方式与`共享区块`一致，拖到流之中就可以使用。

<Image
  sources={{
    light: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-use.png"
    ),
    dark: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-use.png"
    ),
  }}
  width="720"
/>

## 运行和结果

你可以选择图中所示的两种运行方式：

1. 启动流程中的所有区块
2. 仅启动对应的区块

在启动后，可以在下方的日志栏中观察到所有区块的运行情况和输入输出内容

<Image
  sources={{
    light: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-run.png"
    ),
    dark: useBaseUrl(
      "/img/docs/cn/studio-usage-guide/block/flow-block-run.png"
    ),
  }}
  width="720"
/>
